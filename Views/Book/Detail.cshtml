@model BookCave.Models.ViewModels.BookView

<div id="bookDetails">
    <div class="bookDetailsDesc">
        <img src="@Model.image" alt="@Model.title">
        <br>
        <h3>Title: @Model.title </h3>
        <p>Author: @Model.author </p>
        <p>Price: @Model.price $</p> <!--Búið er að margfalda saman price og discount í repo-inu og vista í price. Raunverðið sést því hér -->
        <p>Rating: @Model.rating (no of ratings @Model.noOfRatings)</p> <!--Búið er að deila heildarsummunni rating með noOfRatings í repo-inu og vista í rating. Einkunn myndarinnar sést því hér -->
        <br> 

        <h4>Description</h4>
        <p>@Model.description</p> 
        <br>
        @{
             if(this.User.IsInRole("Employee"))
             {
                 <a class="btn btn-primary" asp-action="EditBook" asp-controller="Employee" asp-route-id="@Model.ID">Edit this book</a>
             }
             else
             {
                 <a class="btn btn-primary" id="detailsAddToBasketBtn" onclick="addToBasket(@Model.ID)" name="@Model.ID" >Add to basket</a>
             }
        }
        <br>
    </div>
    <div class="bookDetailsDesc pushDown">
        <h4>Product Details</h4>
        <p>Number of pages: @Model.numberOfPages</p>
        <p>Publication year: @Model.year</p>
        <p>Publisher: @Model.publisher</p>
        <p>Publication country: @Model.country</p> 
        <p>Language: @Model.language</p>
        <p>Category: @Model.category </p>
        <p>ISBN number: @Model.ISBN </p>
        <br>
    </div>
    <div class="bookDetailsReview pushDown">
        <h4>Reviews</h4>
        @for(int i = 0; i < @Model.Reviews.Count; i++)
        {
            <div class="book-item marginPush">       <!--Tók kóðann af forsíðunni í þeirri von að css myndi endurnýtast -->
                <p>Name of person: @Model.Reviews[i].username </p>
                <p>Rating: @Model.Reviews[i].rating</p>
                <div class="review text box">
                    <p>Review: @Model.Reviews[i].review</p>
                </div>
            </div> 
             
            
        }
        <h4>Write a review</h4>
        <a asp-controller="Book" asp-action="Review" class="btn btn-primary" asp-route-id="@Model.ID">Review this book</a>
        <br>
    </div>
    <!--
        Commented out, needs better placement

        <h4>Aðrar upplýsingar sem voru ekki á frumgerðinni</h4>
        <p>Discount: @Model.discount</p>
    -->
    <br>
</div>

